{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: 'InfluencerDashboard',\n  data() {\n    return {\n      adRequests: [],\n      filteredAdRequests: [],\n      searchQuery: ''\n    };\n  },\n  mounted() {\n    this.fetchAdRequests();\n  },\n  methods: {\n    getAuthHeaders() {\n      const token = localStorage.getItem('access_token');\n      return {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      };\n    },\n    async fetchAdRequests() {\n      try {\n        const response = await axios.get('http://127.0.0.1:5000/influencer/ad_requests', this.getAuthHeaders());\n        this.adRequests = response.data;\n        this.filteredAdRequests = this.adRequests;\n      } catch (error) {\n        console.error('Error fetching ad requests', error);\n      }\n    },\n    searchAdRequests() {\n      const query = this.searchQuery.toLowerCase();\n      this.filteredAdRequests = this.adRequests.filter(adRequest => adRequest.campaign_id.toString().includes(query) || adRequest.requirements.toLowerCase().includes(query));\n    },\n    async acceptAdRequest(adRequestId) {\n      try {\n        await axios.post(`http://127.0.0.1:5000/influencer/ad_requests/${adRequestId}/accept`, {}, this.getAuthHeaders());\n        this.fetchAdRequests();\n      } catch (error) {\n        console.error('Error accepting ad request', error);\n      }\n    },\n    async rejectAdRequest(adRequestId) {\n      try {\n        await axios.post(`http://127.0.0.1:5000/influencer/ad_requests/${adRequestId}/reject`, {}, this.getAuthHeaders());\n        this.fetchAdRequests();\n      } catch (error) {\n        console.error('Error rejecting ad request', error);\n      }\n    },\n    async negotiateAdRequest(adRequest) {\n      const newPaymentAmount = prompt(\"Enter your proposed payment amount:\", adRequest.payment_amount);\n      if (newPaymentAmount !== null) {\n        try {\n          await axios.post(`http://127.0.0.1:5000/influencer/ad_requests/${adRequest.id}/negotiate`, {\n            payment_amount: newPaymentAmount\n          }, this.getAuthHeaders());\n          this.fetchAdRequests();\n        } catch (error) {\n          console.error('Error negotiating ad request', error);\n        }\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","adRequests","filteredAdRequests","searchQuery","mounted","fetchAdRequests","methods","getAuthHeaders","token","localStorage","getItem","headers","Authorization","response","get","error","console","searchAdRequests","query","toLowerCase","filter","adRequest","campaign_id","toString","includes","requirements","acceptAdRequest","adRequestId","post","rejectAdRequest","negotiateAdRequest","newPaymentAmount","prompt","payment_amount","id"],"sources":["C:\\Users\\deepa\\deepanshu\\IIT Madras\\appdev2\\influencer\\frontend\\src\\views\\InfluencerDashboard.vue"],"sourcesContent":["<template>\r\n  <div class=\"dashboard\">\r\n    <header class=\"dashboard-header\">\r\n      <h2 class=\"header-title\">Influencer Dashboard</h2>\r\n    </header>\r\n    <section class=\"search-section\">\r\n      <input v-model=\"searchQuery\" @input=\"searchAdRequests\" placeholder=\"Search ad requests...\" />\r\n    </section>\r\n    <section class=\"ad-requests-container\">\r\n      <div class=\"ad-request-card\" v-for=\"adRequest in filteredAdRequests\" :key=\"adRequest.id\">\r\n        <div class=\"card-body\">\r\n          <h3 class=\"card-title\">Ad Request #{{ adRequest.id }}</h3>\r\n          <p><strong>Campaign ID:</strong> {{ adRequest.campaign_id }}</p>\r\n          <p><strong>Requirements:</strong> {{ adRequest.requirements }}</p>\r\n          <p><strong>Payment Amount:</strong> {{ adRequest.payment_amount }}</p>\r\n          <p><strong>Status:</strong> {{ adRequest.status }}</p>\r\n        </div>\r\n        <div class=\"button-group\">\r\n          <button @click=\"acceptAdRequest(adRequest.id)\" class=\"btn btn-success\">Accept</button>\r\n          <button @click=\"rejectAdRequest(adRequest.id)\" class=\"btn btn-danger\">Reject</button>\r\n          <button @click=\"negotiateAdRequest(adRequest)\" class=\"btn btn-warning\">Negotiate</button>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  name: 'InfluencerDashboard',\r\n  data() {\r\n    return {\r\n      adRequests: [],\r\n      filteredAdRequests: [],\r\n      searchQuery: ''\r\n    };\r\n  },\r\n  mounted() {\r\n    this.fetchAdRequests();\r\n  },\r\n  methods: {\r\n    getAuthHeaders() {\r\n      const token = localStorage.getItem('access_token');\r\n      return {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`\r\n        }\r\n      };\r\n    },\r\n    async fetchAdRequests() {\r\n      try {\r\n        const response = await axios.get('http://127.0.0.1:5000/influencer/ad_requests', this.getAuthHeaders());\r\n        this.adRequests = response.data;\r\n        this.filteredAdRequests = this.adRequests;\r\n      } catch (error) {\r\n        console.error('Error fetching ad requests', error);\r\n      }\r\n    },\r\n    searchAdRequests() {\r\n      const query = this.searchQuery.toLowerCase();\r\n      this.filteredAdRequests = this.adRequests.filter(adRequest =>\r\n        adRequest.campaign_id.toString().includes(query) ||\r\n        adRequest.requirements.toLowerCase().includes(query)\r\n      );\r\n    },\r\n    async acceptAdRequest(adRequestId) {\r\n      try {\r\n        await axios.post(`http://127.0.0.1:5000/influencer/ad_requests/${adRequestId}/accept`, {}, this.getAuthHeaders());\r\n        this.fetchAdRequests();\r\n      } catch (error) {\r\n        console.error('Error accepting ad request', error);\r\n      }\r\n    },\r\n    async rejectAdRequest(adRequestId) {\r\n      try {\r\n        await axios.post(`http://127.0.0.1:5000/influencer/ad_requests/${adRequestId}/reject`, {}, this.getAuthHeaders());\r\n        this.fetchAdRequests();\r\n      } catch (error) {\r\n        console.error('Error rejecting ad request', error);\r\n      }\r\n    },\r\n    async negotiateAdRequest(adRequest) {\r\n      const newPaymentAmount = prompt(\"Enter your proposed payment amount:\", adRequest.payment_amount);\r\n      if (newPaymentAmount !== null) {\r\n        try {\r\n          await axios.post(`http://127.0.0.1:5000/influencer/ad_requests/${adRequest.id}/negotiate`, {\r\n            payment_amount: newPaymentAmount\r\n          }, this.getAuthHeaders());\r\n          this.fetchAdRequests();\r\n        } catch (error) {\r\n          console.error('Error negotiating ad request', error);\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.dashboard {\r\n  font-family: Arial, sans-serif;\r\n  padding: 20px;\r\n}\r\n\r\n.dashboard-header {\r\n  background: linear-gradient(to right, #e07a7a, #d9534f);\r\n  color: #fff;\r\n  text-align: center;\r\n  padding: 20px;\r\n  margin-bottom: 20px;\r\n  border-radius: 8px;\r\n}\r\n\r\n.dashboard-header h2 {\r\n  font-size: 2rem;\r\n  margin: 0;\r\n  font-weight: bold;\r\n  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);\r\n}\r\n\r\n.search-section {\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.search-section input {\r\n  padding: 10px;\r\n  font-size: 1rem;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n  width: 100%;\r\n  max-width: 500px;\r\n}\r\n\r\n.ad-requests-container {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 20px;\r\n  justify-content: center;\r\n}\r\n\r\n.ad-request-card {\r\n  background: #fff;\r\n  border: 1px solid #ddd;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n  width: 100%;\r\n  max-width: 400px;\r\n  padding: 20px;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.card-body {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.card-title {\r\n  font-size: 1.2rem;\r\n  color: #333;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.button-group {\r\n  display: flex;\r\n  gap: 10px;\r\n  justify-content: center;\r\n}\r\n\r\n.btn {\r\n  padding: 10px 20px;\r\n  font-size: 1rem;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  color: #fff;\r\n  text-align: center;\r\n}\r\n\r\n.btn-success {\r\n  background-color: #28a745;\r\n}\r\n\r\n.btn-danger {\r\n  background-color: #dc3545;\r\n}\r\n\r\n.btn-warning {\r\n  background-color: #ffc107;\r\n}\r\n</style>\r\n"],"mappings":"AA4BA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAI,EAAE,qBAAqB;EAC3BC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,UAAU,EAAE,EAAE;MACdC,kBAAkB,EAAE,EAAE;MACtBC,WAAW,EAAE;IACf,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,eAAe,CAAC,CAAC;EACxB,CAAC;EACDC,OAAO,EAAE;IACPC,cAAcA,CAAA,EAAG;MACf,MAAMC,KAAI,GAAIC,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC;MAClD,OAAO;QACLC,OAAO,EAAE;UACPC,aAAa,EAAE,UAAUJ,KAAK;QAChC;MACF,CAAC;IACH,CAAC;IACD,MAAMH,eAAeA,CAAA,EAAG;MACtB,IAAI;QACF,MAAMQ,QAAO,GAAI,MAAMf,KAAK,CAACgB,GAAG,CAAC,8CAA8C,EAAE,IAAI,CAACP,cAAc,CAAC,CAAC,CAAC;QACvG,IAAI,CAACN,UAAS,GAAIY,QAAQ,CAACb,IAAI;QAC/B,IAAI,CAACE,kBAAiB,GAAI,IAAI,CAACD,UAAU;MAC3C,EAAE,OAAOc,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;MACpD;IACF,CAAC;IACDE,gBAAgBA,CAAA,EAAG;MACjB,MAAMC,KAAI,GAAI,IAAI,CAACf,WAAW,CAACgB,WAAW,CAAC,CAAC;MAC5C,IAAI,CAACjB,kBAAiB,GAAI,IAAI,CAACD,UAAU,CAACmB,MAAM,CAACC,SAAQ,IACvDA,SAAS,CAACC,WAAW,CAACC,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAACN,KAAK,KAC/CG,SAAS,CAACI,YAAY,CAACN,WAAW,CAAC,CAAC,CAACK,QAAQ,CAACN,KAAK,CACrD,CAAC;IACH,CAAC;IACD,MAAMQ,eAAeA,CAACC,WAAW,EAAE;MACjC,IAAI;QACF,MAAM7B,KAAK,CAAC8B,IAAI,CAAC,gDAAgDD,WAAW,SAAS,EAAE,CAAC,CAAC,EAAE,IAAI,CAACpB,cAAc,CAAC,CAAC,CAAC;QACjH,IAAI,CAACF,eAAe,CAAC,CAAC;MACxB,EAAE,OAAOU,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;MACpD;IACF,CAAC;IACD,MAAMc,eAAeA,CAACF,WAAW,EAAE;MACjC,IAAI;QACF,MAAM7B,KAAK,CAAC8B,IAAI,CAAC,gDAAgDD,WAAW,SAAS,EAAE,CAAC,CAAC,EAAE,IAAI,CAACpB,cAAc,CAAC,CAAC,CAAC;QACjH,IAAI,CAACF,eAAe,CAAC,CAAC;MACxB,EAAE,OAAOU,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;MACpD;IACF,CAAC;IACD,MAAMe,kBAAkBA,CAACT,SAAS,EAAE;MAClC,MAAMU,gBAAe,GAAIC,MAAM,CAAC,qCAAqC,EAAEX,SAAS,CAACY,cAAc,CAAC;MAChG,IAAIF,gBAAe,KAAM,IAAI,EAAE;QAC7B,IAAI;UACF,MAAMjC,KAAK,CAAC8B,IAAI,CAAC,gDAAgDP,SAAS,CAACa,EAAE,YAAY,EAAE;YACzFD,cAAc,EAAEF;UAClB,CAAC,EAAE,IAAI,CAACxB,cAAc,CAAC,CAAC,CAAC;UACzB,IAAI,CAACF,eAAe,CAAC,CAAC;QACxB,EAAE,OAAOU,KAAK,EAAE;UACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;QACtD;MACF;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}