{"ast":null,"code":"// router.js\nimport { createRouter, createWebHistory } from 'vue-router';\nimport store from './store';\nimport HomePage from './views/HomePage.vue';\nimport LoginPage from './views/LoginPage.vue';\nimport RegisterPage from './views/RegisterPage.vue';\nimport AdminDashboard from './views/AdminDashboard.vue';\nimport SponsorDashboard from './views/SponsorDashboard.vue';\nimport InfluencerDashboard from './views/InfluencerDashboard.vue';\nimport CampaignsPage from './views/CampaignsPage.vue';\nimport NewCampaignForm from './views/NewCampaignForm.vue';\nimport EditCampaignForm from './views/EditCampaignForm.vue';\nimport CampaignsList from './views/CampaignsList.vue';\nimport AdRequestsList from './views/AdRequestsList.vue';\nimport CreateAdRequest from './views/CreateAdRequest.vue';\nimport EditAdRequest from './views/EditAdRequest.vue';\nimport AboutPage from './views/AboutPage.vue';\nconst routes = [{\n  path: '/',\n  component: HomePage\n}, {\n  path: '/about',\n  component: AboutPage\n}, {\n  path: '/login',\n  component: LoginPage\n}, {\n  path: '/register',\n  component: RegisterPage\n}, {\n  path: '/admin-dashboard',\n  component: AdminDashboard,\n  meta: {\n    requiresAuth: true,\n    role: 'admin'\n  }\n}, {\n  path: '/sponsor-dashboard',\n  component: SponsorDashboard,\n  meta: {\n    requiresAuth: true,\n    role: 'sponsor'\n  }\n}, {\n  path: '/influencer-dashboard',\n  component: InfluencerDashboard,\n  meta: {\n    requiresAuth: true,\n    role: 'influencer'\n  }\n}, {\n  path: '/sponsor/campaigns',\n  name: 'CampaignsPage',\n  component: CampaignsPage,\n  meta: {\n    requiresAuth: true,\n    role: 'sponsor'\n  }\n}, {\n  path: '/sponsor/campaigns/new',\n  name: 'NewCampaignForm',\n  component: NewCampaignForm,\n  meta: {\n    requiresAuth: true,\n    role: 'sponsor'\n  }\n}, {\n  path: '/sponsor/campaigns/:id/edit',\n  name: 'EditCampaignForm',\n  component: EditCampaignForm,\n  meta: {\n    requiresAuth: true,\n    role: 'sponsor'\n  }\n}, {\n  path: '/sponsor/list-campaigns',\n  name: 'CampaignsList',\n  component: CampaignsList,\n  meta: {\n    requiresAuth: true,\n    role: 'sponsor'\n  }\n}, {\n  path: '/sponsor/campaigns/:id/adrequests',\n  name: 'AdRequestsList',\n  component: AdRequestsList,\n  meta: {\n    requiresAuth: true,\n    role: 'sponsor'\n  }\n}, {\n  path: '/sponsor/campaigns/:campaignId/adrequests/new',\n  name: 'CreateAdRequest',\n  component: CreateAdRequest,\n  meta: {\n    requiresAuth: true,\n    role: 'sponsor'\n  }\n}, {\n  path: '/sponsor/campaigns/:campaignId/adrequests/:adRequestId/edit',\n  name: 'EditAdRequest',\n  component: EditAdRequest,\n  meta: {\n    requiresAuth: true,\n    role: 'sponsor'\n  }\n}];\nconst router = createRouter({\n  history: createWebHistory(),\n  routes\n});\nrouter.beforeEach((to, from, next) => {\n  const isAuthenticated = store.state.isAuthenticated;\n  const userRole = store.state.userRole;\n  if (to.matched.some(record => record.meta.requiresAuth)) {\n    if (!isAuthenticated) {\n      next('/login');\n    } else if (to.meta.role && to.meta.role !== userRole) {\n      next('/login');\n    } else {\n      next();\n    }\n  } else {\n    next();\n  }\n});\nexport default router;","map":{"version":3,"names":["createRouter","createWebHistory","store","HomePage","LoginPage","RegisterPage","AdminDashboard","SponsorDashboard","InfluencerDashboard","CampaignsPage","NewCampaignForm","EditCampaignForm","CampaignsList","AdRequestsList","CreateAdRequest","EditAdRequest","AboutPage","routes","path","component","meta","requiresAuth","role","name","router","history","beforeEach","to","from","next","isAuthenticated","state","userRole","matched","some","record"],"sources":["C:/Users/deepa/deepanshu/IIT Madras/appdev2/influencer/frontend/src/router.js"],"sourcesContent":["// router.js\r\nimport { createRouter, createWebHistory } from 'vue-router'\r\nimport store from './store'\r\nimport HomePage from './views/HomePage.vue'\r\nimport LoginPage from './views/LoginPage.vue'\r\nimport RegisterPage from './views/RegisterPage.vue'\r\nimport AdminDashboard from './views/AdminDashboard.vue'\r\nimport SponsorDashboard from './views/SponsorDashboard.vue'\r\nimport InfluencerDashboard from './views/InfluencerDashboard.vue'\r\nimport CampaignsPage from './views/CampaignsPage.vue';\r\nimport NewCampaignForm from './views/NewCampaignForm.vue';\r\nimport EditCampaignForm from './views/EditCampaignForm.vue';\r\nimport CampaignsList from './views/CampaignsList.vue';\r\nimport AdRequestsList from './views/AdRequestsList.vue';\r\nimport CreateAdRequest from './views/CreateAdRequest.vue';\r\nimport EditAdRequest from './views/EditAdRequest.vue';\r\nimport AboutPage from './views/AboutPage.vue';\r\n\r\nconst routes = [\r\n  { path: '/', component: HomePage },\r\n  { path: '/about', component: AboutPage },\r\n  { path: '/login', component: LoginPage },\r\n  { path: '/register', component: RegisterPage },\r\n  {\r\n    path: '/admin-dashboard',\r\n    component: AdminDashboard,\r\n    meta: { requiresAuth: true, role: 'admin' }\r\n  },\r\n  {\r\n    path: '/sponsor-dashboard',\r\n    component: SponsorDashboard,\r\n    meta: { requiresAuth: true, role: 'sponsor' }\r\n  },\r\n  {\r\n    path: '/influencer-dashboard',\r\n    component: InfluencerDashboard,\r\n    meta: { requiresAuth: true, role: 'influencer' }\r\n  },\r\n  {\r\n    path: '/sponsor/campaigns',\r\n    name: 'CampaignsPage',\r\n    component: CampaignsPage,\r\n    meta: { requiresAuth: true, role: 'sponsor' }\r\n  },\r\n  {\r\n    path: '/sponsor/campaigns/new',\r\n    name: 'NewCampaignForm',\r\n    component: NewCampaignForm,\r\n    meta: { requiresAuth: true, role: 'sponsor' }\r\n  },\r\n  {\r\n    path: '/sponsor/campaigns/:id/edit',\r\n    name: 'EditCampaignForm',\r\n    component: EditCampaignForm,\r\n    meta: { requiresAuth: true, role: 'sponsor' }\r\n  },\r\n  { \r\n    path: '/sponsor/list-campaigns',\r\n    name: 'CampaignsList',\r\n    component: CampaignsList,\r\n    meta: { requiresAuth: true, role: 'sponsor' }\r\n  },\r\n  { \r\n    path: '/sponsor/campaigns/:id/adrequests',\r\n    name: 'AdRequestsList',\r\n    component: AdRequestsList,\r\n    meta: { requiresAuth: true, role: 'sponsor' }\r\n  },\r\n  { \r\n    path: '/sponsor/campaigns/:campaignId/adrequests/new',\r\n    name: 'CreateAdRequest',\r\n    component: CreateAdRequest,\r\n    meta: { requiresAuth: true, role: 'sponsor' }\r\n  },\r\n  { \r\n    path: '/sponsor/campaigns/:campaignId/adrequests/:adRequestId/edit',\r\n    name: 'EditAdRequest',\r\n    component: EditAdRequest,\r\n    meta: { requiresAuth: true, role: 'sponsor' }\r\n  },\r\n]\r\n\r\nconst router = createRouter({\r\n  history: createWebHistory(),\r\n  routes,\r\n})\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n  const isAuthenticated = store.state.isAuthenticated\r\n  const userRole = store.state.userRole\r\n\r\n  if (to.matched.some(record => record.meta.requiresAuth)) {\r\n    if (!isAuthenticated) {\r\n      next('/login')\r\n    } else if (to.meta.role && to.meta.role !== userRole) {\r\n      next('/login')\r\n    } else {\r\n      next()\r\n    }\r\n  } else {\r\n    next()\r\n  }\r\n})\r\n\r\nexport default router\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}