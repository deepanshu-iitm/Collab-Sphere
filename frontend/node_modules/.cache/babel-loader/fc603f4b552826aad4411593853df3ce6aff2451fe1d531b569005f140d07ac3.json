{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-51a4e12d\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"dashboard\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"header\", {\n  class: \"dashboard-header\"\n}, [/*#__PURE__*/_createElementVNode(\"h2\", {\n  class: \"header-title\"\n}, \"Influencer Dashboard\")], -1 /* HOISTED */));\nconst _hoisted_3 = {\n  class: \"search-section\"\n};\nconst _hoisted_4 = {\n  class: \"ad-requests-container\"\n};\nconst _hoisted_5 = {\n  class: \"card-body\"\n};\nconst _hoisted_6 = {\n  class: \"card-title\"\n};\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"strong\", null, \"Campaign ID:\", -1 /* HOISTED */));\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"strong\", null, \"Requirements:\", -1 /* HOISTED */));\nconst _hoisted_9 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"strong\", null, \"Payment Amount:\", -1 /* HOISTED */));\nconst _hoisted_10 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"strong\", null, \"Status:\", -1 /* HOISTED */));\nconst _hoisted_11 = {\n  class: \"button-group\"\n};\nconst _hoisted_12 = [\"onClick\"];\nconst _hoisted_13 = [\"onClick\"];\nconst _hoisted_14 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"section\", _hoisted_3, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.searchQuery = $event),\n    onInput: _cache[1] || (_cache[1] = (...args) => $options.searchAdRequests && $options.searchAdRequests(...args)),\n    placeholder: \"Search ad requests...\"\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelText, $data.searchQuery]])]), _createElementVNode(\"section\", _hoisted_4, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.filteredAdRequests, adRequest => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"ad-request-card\",\n      key: adRequest.id\n    }, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"h3\", _hoisted_6, \"Ad Request #\" + _toDisplayString(adRequest.id), 1 /* TEXT */), _createElementVNode(\"p\", null, [_hoisted_7, _createTextVNode(\" \" + _toDisplayString(adRequest.campaign_id), 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_hoisted_8, _createTextVNode(\" \" + _toDisplayString(adRequest.requirements), 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_hoisted_9, _createTextVNode(\" \" + _toDisplayString(adRequest.payment_amount), 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_hoisted_10, _createTextVNode(\" \" + _toDisplayString(adRequest.status), 1 /* TEXT */)])]), _createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"button\", {\n      onClick: $event => $options.acceptAdRequest(adRequest.id),\n      class: \"btn btn-success\"\n    }, \"Accept\", 8 /* PROPS */, _hoisted_12), _createElementVNode(\"button\", {\n      onClick: $event => $options.rejectAdRequest(adRequest.id),\n      class: \"btn btn-danger\"\n    }, \"Reject\", 8 /* PROPS */, _hoisted_13), _createElementVNode(\"button\", {\n      onClick: $event => $options.negotiateAdRequest(adRequest),\n      class: \"btn btn-warning\"\n    }, \"Negotiate\", 8 /* PROPS */, _hoisted_14)])]);\n  }), 128 /* KEYED_FRAGMENT */))])]);\n}","map":{"version":3,"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_cache","$event","$data","searchQuery","onInput","args","$options","searchAdRequests","placeholder","_hoisted_4","_Fragment","_renderList","filteredAdRequests","adRequest","key","id","_hoisted_5","_hoisted_6","_toDisplayString","_hoisted_7","_createTextVNode","campaign_id","_hoisted_8","requirements","_hoisted_9","payment_amount","_hoisted_10","status","_hoisted_11","onClick","acceptAdRequest","_hoisted_12","rejectAdRequest","_hoisted_13","negotiateAdRequest","_hoisted_14"],"sources":["C:\\Users\\deepa\\deepanshu\\IIT Madras\\appdev2\\influencer\\frontend\\src\\views\\InfluencerDashboard.vue"],"sourcesContent":["<template>\r\n  <div class=\"dashboard\">\r\n    <header class=\"dashboard-header\">\r\n      <h2 class=\"header-title\">Influencer Dashboard</h2>\r\n    </header>\r\n    <section class=\"search-section\">\r\n      <input v-model=\"searchQuery\" @input=\"searchAdRequests\" placeholder=\"Search ad requests...\" />\r\n    </section>\r\n    <section class=\"ad-requests-container\">\r\n      <div class=\"ad-request-card\" v-for=\"adRequest in filteredAdRequests\" :key=\"adRequest.id\">\r\n        <div class=\"card-body\">\r\n          <h3 class=\"card-title\">Ad Request #{{ adRequest.id }}</h3>\r\n          <p><strong>Campaign ID:</strong> {{ adRequest.campaign_id }}</p>\r\n          <p><strong>Requirements:</strong> {{ adRequest.requirements }}</p>\r\n          <p><strong>Payment Amount:</strong> {{ adRequest.payment_amount }}</p>\r\n          <p><strong>Status:</strong> {{ adRequest.status }}</p>\r\n        </div>\r\n        <div class=\"button-group\">\r\n          <button @click=\"acceptAdRequest(adRequest.id)\" class=\"btn btn-success\">Accept</button>\r\n          <button @click=\"rejectAdRequest(adRequest.id)\" class=\"btn btn-danger\">Reject</button>\r\n          <button @click=\"negotiateAdRequest(adRequest)\" class=\"btn btn-warning\">Negotiate</button>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  name: 'InfluencerDashboard',\r\n  data() {\r\n    return {\r\n      adRequests: [],\r\n      filteredAdRequests: [],\r\n      searchQuery: ''\r\n    };\r\n  },\r\n  mounted() {\r\n    this.fetchAdRequests();\r\n  },\r\n  methods: {\r\n    getAuthHeaders() {\r\n      const token = localStorage.getItem('access_token');\r\n      return {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`\r\n        }\r\n      };\r\n    },\r\n    async fetchAdRequests() {\r\n      try {\r\n        const response = await axios.get('http://127.0.0.1:5000/influencer/ad_requests', this.getAuthHeaders());\r\n        this.adRequests = response.data;\r\n        this.filteredAdRequests = this.adRequests;\r\n      } catch (error) {\r\n        console.error('Error fetching ad requests', error);\r\n      }\r\n    },\r\n    searchAdRequests() {\r\n      const query = this.searchQuery.toLowerCase();\r\n      this.filteredAdRequests = this.adRequests.filter(adRequest =>\r\n        adRequest.campaign_id.toString().includes(query) ||\r\n        adRequest.requirements.toLowerCase().includes(query)\r\n      );\r\n    },\r\n    async acceptAdRequest(adRequestId) {\r\n      try {\r\n        await axios.post(`http://127.0.0.1:5000/influencer/ad_requests/${adRequestId}/accept`, {}, this.getAuthHeaders());\r\n        this.fetchAdRequests();\r\n      } catch (error) {\r\n        console.error('Error accepting ad request', error);\r\n      }\r\n    },\r\n    async rejectAdRequest(adRequestId) {\r\n      try {\r\n        await axios.post(`http://127.0.0.1:5000/influencer/ad_requests/${adRequestId}/reject`, {}, this.getAuthHeaders());\r\n        this.fetchAdRequests();\r\n      } catch (error) {\r\n        console.error('Error rejecting ad request', error);\r\n      }\r\n    },\r\n    async negotiateAdRequest(adRequest) {\r\n      const newPaymentAmount = prompt(\"Enter your proposed payment amount:\", adRequest.payment_amount);\r\n      if (newPaymentAmount !== null) {\r\n        try {\r\n          await axios.post(`http://127.0.0.1:5000/influencer/ad_requests/${adRequest.id}/negotiate`, {\r\n            payment_amount: newPaymentAmount\r\n          }, this.getAuthHeaders());\r\n          this.fetchAdRequests();\r\n        } catch (error) {\r\n          console.error('Error negotiating ad request', error);\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.dashboard {\r\n  font-family: Arial, sans-serif;\r\n  padding: 20px;\r\n}\r\n\r\n.dashboard-header {\r\n  background: linear-gradient(to right, #e07a7a, #d9534f);\r\n  color: #fff;\r\n  text-align: center;\r\n  padding: 20px;\r\n  margin-bottom: 20px;\r\n  border-radius: 8px;\r\n}\r\n\r\n.dashboard-header h2 {\r\n  font-size: 2rem;\r\n  margin: 0;\r\n  font-weight: bold;\r\n  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);\r\n}\r\n\r\n.search-section {\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.search-section input {\r\n  padding: 10px;\r\n  font-size: 1rem;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n  width: 100%;\r\n  max-width: 500px;\r\n}\r\n\r\n.ad-requests-container {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 20px;\r\n  justify-content: center;\r\n}\r\n\r\n.ad-request-card {\r\n  background: #fff;\r\n  border: 1px solid #ddd;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n  width: 100%;\r\n  max-width: 400px;\r\n  padding: 20px;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.card-body {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.card-title {\r\n  font-size: 1.2rem;\r\n  color: #333;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.button-group {\r\n  display: flex;\r\n  gap: 10px;\r\n  justify-content: center;\r\n}\r\n\r\n.btn {\r\n  padding: 10px 20px;\r\n  font-size: 1rem;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  color: #fff;\r\n  text-align: center;\r\n}\r\n\r\n.btn-success {\r\n  background-color: #28a745;\r\n}\r\n\r\n.btn-danger {\r\n  background-color: #dc3545;\r\n}\r\n\r\n.btn-warning {\r\n  background-color: #ffc107;\r\n}\r\n</style>\r\n"],"mappings":";;;EACOA,KAAK,EAAC;AAAW;gEACpBC,mBAAA,CAES;EAFDD,KAAK,EAAC;AAAkB,I,aAC9BC,mBAAA,CAAkD;EAA9CD,KAAK,EAAC;AAAc,GAAC,sBAAoB,E;;EAEtCA,KAAK,EAAC;AAAgB;;EAGtBA,KAAK,EAAC;AAAuB;;EAE7BA,KAAK,EAAC;AAAW;;EAChBA,KAAK,EAAC;AAAY;gEACnBC,mBAAA,CAA6B,gBAArB,cAAY;gEACpBA,mBAAA,CAA8B,gBAAtB,eAAa;gEACrBA,mBAAA,CAAgC,gBAAxB,iBAAe;iEACvBA,mBAAA,CAAwB,gBAAhB,SAAO;;EAEfD,KAAK,EAAC;AAAc;oBAjBjC;oBAAA;oBAAA;;uBACEE,mBAAA,CAuBM,OAvBNC,UAuBM,GAtBJC,UAES,EACTH,mBAAA,CAEU,WAFVI,UAEU,G,gBADRJ,mBAAA,CAA6F;IANnG,uBAAAK,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAMsBC,KAAA,CAAAC,WAAW,GAAAF,MAAA;IAAGG,OAAK,EAAAJ,MAAA,QAAAA,MAAA,UAAAK,IAAA,KAAEC,QAAA,CAAAC,gBAAA,IAAAD,QAAA,CAAAC,gBAAA,IAAAF,IAAA,CAAgB;IAAEG,WAAW,EAAC;iEAAnDN,KAAA,CAAAC,WAAW,E,KAE7BR,mBAAA,CAeU,WAfVc,UAeU,I,kBAdRb,mBAAA,CAaMc,SAAA,QAtBZC,WAAA,CASuDT,KAAA,CAAAU,kBAAkB,EAA/BC,SAAS;yBAA7CjB,mBAAA,CAaM;MAbDF,KAAK,EAAC,iBAAiB;MAA0CoB,GAAG,EAAED,SAAS,CAACE;QACnFpB,mBAAA,CAMM,OANNqB,UAMM,GALJrB,mBAAA,CAA0D,MAA1DsB,UAA0D,EAAnC,cAAY,GAAAC,gBAAA,CAAGL,SAAS,CAACE,EAAE,kBAClDpB,mBAAA,CAAgE,YAA7DwB,UAA6B,EAZ1CC,gBAAA,CAY0C,GAAC,GAAAF,gBAAA,CAAGL,SAAS,CAACQ,WAAW,iB,GACzD1B,mBAAA,CAAkE,YAA/D2B,UAA8B,EAb3CF,gBAAA,CAa2C,GAAC,GAAAF,gBAAA,CAAGL,SAAS,CAACU,YAAY,iB,GAC3D5B,mBAAA,CAAsE,YAAnE6B,UAAgC,EAd7CJ,gBAAA,CAc6C,GAAC,GAAAF,gBAAA,CAAGL,SAAS,CAACY,cAAc,iB,GAC/D9B,mBAAA,CAAsD,YAAnD+B,WAAwB,EAfrCN,gBAAA,CAeqC,GAAC,GAAAF,gBAAA,CAAGL,SAAS,CAACc,MAAM,iB,KAEjDhC,mBAAA,CAIM,OAJNiC,WAIM,GAHJjC,mBAAA,CAAsF;MAA7EkC,OAAK,EAAA5B,MAAA,IAAEK,QAAA,CAAAwB,eAAe,CAACjB,SAAS,CAACE,EAAE;MAAGrB,KAAK,EAAC;OAAkB,QAAM,iBAlBvFqC,WAAA,GAmBUpC,mBAAA,CAAqF;MAA5EkC,OAAK,EAAA5B,MAAA,IAAEK,QAAA,CAAA0B,eAAe,CAACnB,SAAS,CAACE,EAAE;MAAGrB,KAAK,EAAC;OAAiB,QAAM,iBAnBtFuC,WAAA,GAoBUtC,mBAAA,CAAyF;MAAhFkC,OAAK,EAAA5B,MAAA,IAAEK,QAAA,CAAA4B,kBAAkB,CAACrB,SAAS;MAAGnB,KAAK,EAAC;OAAkB,WAAS,iBApB1FyC,WAAA,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}