{"ast":null,"code":"import { createStore } from 'vuex';\nimport axios from 'axios';\nexport default createStore({\n  state: {\n    isAuthenticated: false,\n    userRole: null\n  },\n  mutations: {\n    SET_AUTH(state, payload) {\n      state.isAuthenticated = payload.isAuthenticated;\n      state.userRole = payload.userRole;\n    },\n    LOGOUT(state) {\n      state.isAuthenticated = false;\n      state.userRole = null;\n    }\n  },\n  actions: {\n    async login({\n      commit\n    }, {\n      email,\n      password\n    }) {\n      try {\n        const response = await axios.post('http://127.0.0.1:5000/auth/login', {\n          email,\n          password\n        });\n        commit('SET_AUTH', {\n          isAuthenticated: true,\n          userRole: response.data.role\n        });\n        localStorage.setItem('access_token', response.data.access_token);\n        return response.data.role;\n      } catch (error) {\n        console.error('Error logging in:', error);\n        throw error;\n      }\n    },\n    async signup(_, userData) {\n      try {\n        await axios.post('http://127.0.0.1:5000/auth/register', userData);\n      } catch (error) {\n        console.error('Error signing up:', error);\n        throw error;\n      }\n    },\n    logout({\n      commit\n    }) {\n      localStorage.removeItem('access_token');\n      commit('LOGOUT');\n    }\n  }\n});","map":{"version":3,"names":["createStore","axios","state","isAuthenticated","userRole","mutations","SET_AUTH","payload","LOGOUT","actions","login","commit","email","password","response","post","data","role","localStorage","setItem","access_token","error","console","signup","_","userData","logout","removeItem"],"sources":["C:/Users/deepa/deepanshu/IIT Madras/appdev2/influencer/frontend/src/store/index.js"],"sourcesContent":["import { createStore } from 'vuex'\r\nimport axios from 'axios'\r\n\r\nexport default createStore({\r\n  state: {\r\n    isAuthenticated: false,\r\n    userRole: null,\r\n  },\r\n  mutations: {\r\n    SET_AUTH(state, payload) {\r\n      state.isAuthenticated = payload.isAuthenticated\r\n      state.userRole = payload.userRole\r\n    },\r\n    LOGOUT(state) {\r\n      state.isAuthenticated = false\r\n      state.userRole = null\r\n    },\r\n  },\r\n  actions: {\r\n    async login({ commit }, { email, password }) {\r\n      try {\r\n        const response = await axios.post('http://127.0.0.1:5000/auth/login', { email, password })\r\n        commit('SET_AUTH', { isAuthenticated: true, userRole: response.data.role })\r\n        localStorage.setItem('access_token', response.data.access_token)\r\n        return response.data.role\r\n      } catch (error) {\r\n        console.error('Error logging in:', error)\r\n        throw error\r\n      }\r\n    },\r\n    async signup(_, userData) {\r\n      try {\r\n        await axios.post('http://127.0.0.1:5000/auth/register', userData)\r\n      } catch (error) {\r\n        console.error('Error signing up:', error)\r\n        throw error\r\n      }\r\n    },\r\n    logout({ commit }) {\r\n      localStorage.removeItem('access_token')\r\n      commit('LOGOUT')\r\n    },\r\n  },\r\n})\r\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,MAAM;AAClC,OAAOC,KAAK,MAAM,OAAO;AAEzB,eAAeD,WAAW,CAAC;EACzBE,KAAK,EAAE;IACLC,eAAe,EAAE,KAAK;IACtBC,QAAQ,EAAE;EACZ,CAAC;EACDC,SAAS,EAAE;IACTC,QAAQA,CAACJ,KAAK,EAAEK,OAAO,EAAE;MACvBL,KAAK,CAACC,eAAe,GAAGI,OAAO,CAACJ,eAAe;MAC/CD,KAAK,CAACE,QAAQ,GAAGG,OAAO,CAACH,QAAQ;IACnC,CAAC;IACDI,MAAMA,CAACN,KAAK,EAAE;MACZA,KAAK,CAACC,eAAe,GAAG,KAAK;MAC7BD,KAAK,CAACE,QAAQ,GAAG,IAAI;IACvB;EACF,CAAC;EACDK,OAAO,EAAE;IACP,MAAMC,KAAKA,CAAC;MAAEC;IAAO,CAAC,EAAE;MAAEC,KAAK;MAAEC;IAAS,CAAC,EAAE;MAC3C,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMb,KAAK,CAACc,IAAI,CAAC,kCAAkC,EAAE;UAAEH,KAAK;UAAEC;QAAS,CAAC,CAAC;QAC1FF,MAAM,CAAC,UAAU,EAAE;UAAER,eAAe,EAAE,IAAI;UAAEC,QAAQ,EAAEU,QAAQ,CAACE,IAAI,CAACC;QAAK,CAAC,CAAC;QAC3EC,YAAY,CAACC,OAAO,CAAC,cAAc,EAAEL,QAAQ,CAACE,IAAI,CAACI,YAAY,CAAC;QAChE,OAAON,QAAQ,CAACE,IAAI,CAACC,IAAI;MAC3B,CAAC,CAAC,OAAOI,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,mBAAmB,EAAEA,KAAK,CAAC;QACzC,MAAMA,KAAK;MACb;IACF,CAAC;IACD,MAAME,MAAMA,CAACC,CAAC,EAAEC,QAAQ,EAAE;MACxB,IAAI;QACF,MAAMxB,KAAK,CAACc,IAAI,CAAC,qCAAqC,EAAEU,QAAQ,CAAC;MACnE,CAAC,CAAC,OAAOJ,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,mBAAmB,EAAEA,KAAK,CAAC;QACzC,MAAMA,KAAK;MACb;IACF,CAAC;IACDK,MAAMA,CAAC;MAAEf;IAAO,CAAC,EAAE;MACjBO,YAAY,CAACS,UAAU,CAAC,cAAc,CAAC;MACvChB,MAAM,CAAC,QAAQ,CAAC;IAClB;EACF;AACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}